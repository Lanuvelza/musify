{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport * as React from 'react';\nimport { useCallback, useEffect, useState } from 'react';\nimport defaultFormatter from './defaultFormatter';\nimport dateParser from './dateParser'; // Just some simple constants for readability\n\nconst MINUTE = 60;\nconst HOUR = MINUTE * 60;\nconst DAY = HOUR * 24;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\nexport default function TimeAgo({\n  date,\n  formatter = defaultFormatter,\n  component = 'time',\n  live = true,\n  minPeriod = 0,\n  maxPeriod = WEEK,\n  title,\n  now = () => Date.now(),\n  ...passDownProps\n}) {\n  const forceUpdate = useUpdate();\n  useEffect(() => {\n    if (!live) {\n      return;\n    }\n\n    let timeoutId;\n\n    const tick = refresh => {\n      const then = dateParser(date).valueOf();\n\n      if (!then) {\n        console.warn('[react-timeago] Invalid Date provided');\n        return;\n      }\n\n      const timeNow = now();\n      const seconds = Math.round(Math.abs(timeNow - then) / 1000);\n      const unboundPeriod = seconds < MINUTE ? 1000 : seconds < HOUR ? 1000 * MINUTE : seconds < DAY ? 1000 * HOUR : 1000 * WEEK;\n      const period = Math.min(Math.max(unboundPeriod, minPeriod * 1000), maxPeriod * 1000);\n\n      if (period) {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n\n        timeoutId = setTimeout(tick, period);\n      }\n\n      if (!refresh) {\n        forceUpdate();\n      }\n    };\n\n    tick(true);\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [date, forceUpdate, live, maxPeriod, minPeriod, now]);\n  const Komponent = component;\n  const then = dateParser(date).valueOf();\n\n  if (!then) {\n    return null;\n  }\n\n  const timeNow = now();\n  const seconds = Math.round(Math.abs(timeNow - then) / 1000);\n  const suffix = then < timeNow ? 'ago' : 'from now';\n  const [value, unit] = seconds < MINUTE ? [Math.round(seconds), 'second'] : seconds < HOUR ? [Math.round(seconds / MINUTE), 'minute'] : seconds < DAY ? [Math.round(seconds / HOUR), 'hour'] : seconds < WEEK ? [Math.round(seconds / DAY), 'day'] : seconds < MONTH ? [Math.round(seconds / WEEK), 'week'] : seconds < YEAR ? [Math.round(seconds / MONTH), 'month'] : [Math.round(seconds / YEAR), 'year'];\n  const passDownTitle = typeof title === 'undefined' ? typeof date === 'string' ? date : dateParser(date).toISOString().substr(0, 16).replace('T', ' ') : title;\n  const spreadProps = Komponent === 'time' ? { ...passDownProps,\n    dateTime: dateParser(date).toISOString()\n  } : passDownProps;\n  const nextFormatter = defaultFormatter.bind(null, value, unit, suffix);\n  return /*#__PURE__*/React.createElement(Komponent, _extends({}, spreadProps, {\n    title: passDownTitle\n  }), formatter(value, unit, suffix, then, nextFormatter, now));\n}\n\nfunction useUpdate() {\n  const [_, setCount] = useState(0);\n  return useCallback(() => {\n    setCount(num => num + 1);\n  }, []);\n}","map":{"version":3,"sources":["/Users/ianlam/projects-after-lighthouse/spotify-clone/spotify-clone/node_modules/react-timeago/es6/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useCallback","useEffect","useState","defaultFormatter","dateParser","MINUTE","HOUR","DAY","WEEK","MONTH","YEAR","TimeAgo","date","formatter","component","live","minPeriod","maxPeriod","title","now","Date","passDownProps","forceUpdate","useUpdate","timeoutId","tick","refresh","then","valueOf","console","warn","timeNow","seconds","Math","round","abs","unboundPeriod","period","min","max","clearTimeout","setTimeout","Komponent","suffix","value","unit","passDownTitle","toISOString","substr","replace","spreadProps","dateTime","nextFormatter","bind","createElement","_","setCount","num"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from 'react';\nimport { useCallback, useEffect, useState } from 'react';\nimport defaultFormatter from './defaultFormatter';\nimport dateParser from './dateParser';\n// Just some simple constants for readability\nconst MINUTE = 60;\nconst HOUR = MINUTE * 60;\nconst DAY = HOUR * 24;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\nexport default function TimeAgo({\n  date,\n  formatter = defaultFormatter,\n  component = 'time',\n  live = true,\n  minPeriod = 0,\n  maxPeriod = WEEK,\n  title,\n  now = () => Date.now(),\n  ...passDownProps\n}) {\n  const forceUpdate = useUpdate();\n  useEffect(() => {\n    if (!live) {\n      return;\n    }\n\n    let timeoutId;\n\n    const tick = refresh => {\n      const then = dateParser(date).valueOf();\n\n      if (!then) {\n        console.warn('[react-timeago] Invalid Date provided');\n        return;\n      }\n\n      const timeNow = now();\n      const seconds = Math.round(Math.abs(timeNow - then) / 1000);\n      const unboundPeriod = seconds < MINUTE ? 1000 : seconds < HOUR ? 1000 * MINUTE : seconds < DAY ? 1000 * HOUR : 1000 * WEEK;\n      const period = Math.min(Math.max(unboundPeriod, minPeriod * 1000), maxPeriod * 1000);\n\n      if (period) {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n\n        timeoutId = setTimeout(tick, period);\n      }\n\n      if (!refresh) {\n        forceUpdate();\n      }\n    };\n\n    tick(true);\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [date, forceUpdate, live, maxPeriod, minPeriod, now]);\n  const Komponent = component;\n  const then = dateParser(date).valueOf();\n\n  if (!then) {\n    return null;\n  }\n\n  const timeNow = now();\n  const seconds = Math.round(Math.abs(timeNow - then) / 1000);\n  const suffix = then < timeNow ? 'ago' : 'from now';\n  const [value, unit] = seconds < MINUTE ? [Math.round(seconds), 'second'] : seconds < HOUR ? [Math.round(seconds / MINUTE), 'minute'] : seconds < DAY ? [Math.round(seconds / HOUR), 'hour'] : seconds < WEEK ? [Math.round(seconds / DAY), 'day'] : seconds < MONTH ? [Math.round(seconds / WEEK), 'week'] : seconds < YEAR ? [Math.round(seconds / MONTH), 'month'] : [Math.round(seconds / YEAR), 'year'];\n  const passDownTitle = typeof title === 'undefined' ? typeof date === 'string' ? date : dateParser(date).toISOString().substr(0, 16).replace('T', ' ') : title;\n  const spreadProps = Komponent === 'time' ? { ...passDownProps,\n    dateTime: dateParser(date).toISOString()\n  } : passDownProps;\n  const nextFormatter = defaultFormatter.bind(null, value, unit, suffix);\n  return /*#__PURE__*/React.createElement(Komponent, _extends({}, spreadProps, {\n    title: passDownTitle\n  }), formatter(value, unit, suffix, then, nextFormatter, now));\n}\n\nfunction useUpdate() {\n  const [_, setCount] = useState(0);\n  return useCallback(() => {\n    setCount(num => num + 1);\n  }, []);\n}"]},"metadata":{},"sourceType":"module"}
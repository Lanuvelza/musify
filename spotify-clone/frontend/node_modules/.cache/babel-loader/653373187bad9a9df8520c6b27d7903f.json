{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { canUseDOM as canUseDOMBool } from 'exenv';\nexport var canUseDOM = function () {\n  return canUseDOMBool;\n};\nexport var STATUS = {\n  ERROR: 'ERROR',\n  IDLE: 'IDLE',\n  INITIALIZING: 'INITIALIZING',\n  READY: 'READY',\n  RUNNING: 'RUNNING',\n  UNSUPPORTED: 'UNSUPPORTED'\n};\nexport var TYPE = {\n  DEVICE: 'device_update',\n  FAVORITE: 'favorite_update',\n  PLAYER: 'player_update',\n  PROGRESS: 'progress_update',\n  STATUS: 'status_update',\n  TRACK: 'track_update'\n};\nexport function getSpotifyURIType(uri) {\n  var _a = __read(uri.split(':'), 2),\n      _b = _a[1],\n      type = _b === void 0 ? '' : _b;\n\n  return type;\n}\nexport function isEqualArray(A, B) {\n  if (!Array.isArray(A) || !Array.isArray(B) || A.length !== B.length) {\n    return false;\n  }\n\n  var result = true;\n  A.forEach(function (a) {\n    return B.forEach(function (b) {\n      result = a === b;\n    });\n  });\n  return result;\n}\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\nexport function loadSpotifyPlayer() {\n  return new Promise(function (resolve, reject) {\n    var scriptTag = document.getElementById('spotify-player');\n\n    if (!scriptTag) {\n      var script = document.createElement('script');\n      script.id = 'spotify-player';\n      script.type = 'text/javascript';\n      script.async = false;\n      script.defer = true;\n      script.src = 'https://sdk.scdn.co/spotify-player.js';\n\n      script.onload = function () {\n        return resolve();\n      };\n\n      script.onerror = function (error) {\n        return reject(new Error(\"loadScript: \" + error.message));\n      };\n\n      document.head.appendChild(script);\n    } else {\n      resolve();\n    }\n  });\n}\nexport function parseVolume(value) {\n  if (!isNumber(value)) {\n    return 1;\n  }\n\n  if (value > 1) {\n    return value / 100;\n  }\n\n  return value;\n}\n/**\n * Round decimal numbers\n */\n\nexport function round(number, digits) {\n  if (digits === void 0) {\n    digits = 2;\n  }\n\n  var factor = Math.pow(10, digits);\n  return Math.round(number * factor) / factor;\n}\nexport function validateURI(input) {\n  var validTypes = ['album', 'artist', 'playlist', 'show', 'track'];\n  /* istanbul ignore else */\n\n  if (input && input.indexOf(':') > -1) {\n    var _a = __read(input.split(':'), 3),\n        key = _a[0],\n        type = _a[1],\n        id = _a[2];\n    /* istanbul ignore else */\n\n\n    if (key === 'spotify' && validTypes.indexOf(type) >= 0 && id.length === 22) {\n      return true;\n    }\n  }\n\n  return false;\n}","map":{"version":3,"sources":["../src/utils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { canUseDOM as canUseDOMBool } from 'exenv';\nexport var canUseDOM = function () { return canUseDOMBool; };\nexport var STATUS = {\n    ERROR: 'ERROR',\n    IDLE: 'IDLE',\n    INITIALIZING: 'INITIALIZING',\n    READY: 'READY',\n    RUNNING: 'RUNNING',\n    UNSUPPORTED: 'UNSUPPORTED',\n};\nexport var TYPE = {\n    DEVICE: 'device_update',\n    FAVORITE: 'favorite_update',\n    PLAYER: 'player_update',\n    PROGRESS: 'progress_update',\n    STATUS: 'status_update',\n    TRACK: 'track_update',\n};\nexport function getSpotifyURIType(uri) {\n    var _a = __read(uri.split(':'), 2), _b = _a[1], type = _b === void 0 ? '' : _b;\n    return type;\n}\nexport function isEqualArray(A, B) {\n    if (!Array.isArray(A) || !Array.isArray(B) || A.length !== B.length) {\n        return false;\n    }\n    var result = true;\n    A.forEach(function (a) {\n        return B.forEach(function (b) {\n            result = a === b;\n        });\n    });\n    return result;\n}\nexport function isNumber(value) {\n    return typeof value === 'number';\n}\nexport function loadSpotifyPlayer() {\n    return new Promise(function (resolve, reject) {\n        var scriptTag = document.getElementById('spotify-player');\n        if (!scriptTag) {\n            var script = document.createElement('script');\n            script.id = 'spotify-player';\n            script.type = 'text/javascript';\n            script.async = false;\n            script.defer = true;\n            script.src = 'https://sdk.scdn.co/spotify-player.js';\n            script.onload = function () { return resolve(); };\n            script.onerror = function (error) { return reject(new Error(\"loadScript: \" + error.message)); };\n            document.head.appendChild(script);\n        }\n        else {\n            resolve();\n        }\n    });\n}\nexport function parseVolume(value) {\n    if (!isNumber(value)) {\n        return 1;\n    }\n    if (value > 1) {\n        return value / 100;\n    }\n    return value;\n}\n/**\n * Round decimal numbers\n */\nexport function round(number, digits) {\n    if (digits === void 0) { digits = 2; }\n    var factor = Math.pow(10, digits);\n    return Math.round(number * factor) / factor;\n}\nexport function validateURI(input) {\n    var validTypes = ['album', 'artist', 'playlist', 'show', 'track'];\n    /* istanbul ignore else */\n    if (input && input.indexOf(':') > -1) {\n        var _a = __read(input.split(':'), 3), key = _a[0], type = _a[1], id = _a[2];\n        /* istanbul ignore else */\n        if (key === 'spotify' && validTypes.indexOf(type) >= 0 && id.length === 22) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"module"}